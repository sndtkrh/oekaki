(this.webpackJsonpoekaki=this.webpackJsonpoekaki||[]).push([[0],{27:function(e,n,t){e.exports=t(35)},32:function(e,n,t){},34:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),o=t(24),i=t.n(o),u=(t(32),t(0)),c=t(12);function d(e){switch(e){case"above":return 0;case"below":return 1;case"left":return 2;case"right":return 3;default:return}}function s(e){var n,t=e.curve;if(t){var a=function(e){switch(e){case 0:return"above";case 1:return"below";case 2:return"left";case 3:return"right"}};n=u.b(c.a({_0:{TAG:11,_0:"~(",_1:{TAG:2,_0:0,_1:{TAG:11,_0:", ",_1:{TAG:2,_0:0,_1:{TAG:12,_0:41,_1:0}}}}},_1:"~(%s, %s)"}),a(t._0),a(t._1))}else n="--";var o=u.e(c.a({_0:{TAG:12,_0:40,_1:{TAG:2,_0:0,_1:{TAG:11,_0:") draw=",_1:{TAG:2,_0:0,_1:{TAG:11,_0:" (",_1:{TAG:2,_0:0,_1:{TAG:11,_0:") ",_1:{TAG:2,_0:0,_1:{TAG:11,_0:" (",_1:{TAG:2,_0:0,_1:{TAG:12,_0:41,_1:0}}}}}}}}}}},_1:"(%s) draw=%s (%s) %s (%s)"}),e.edge_id,e.draw?"yes":"no",e.scoord,n,e.tcoord);return r.createElement("div",{key:e.edge_id},o)}function l(e,n){var t=function(e){return void 0!==e?function(e){switch(e){case 0:return"above";case 1:return"below";case 2:return"left";case 3:return"right"}}(e):"-"},a=function(e){return r.createElement("option",{value:t(e)},t(e))};return r.createElement("select",{value:t(e),onChange:n},a(void 0),a(0),a(1),a(2),a(3))}var m={name:"",draw:!0,sname:"",tname:"",sdir:void 0,tdir:void 0};var _=function(e){var n=e.updater,t=r.useState((function(){return m})),a=t[1],o=t[0];return r.createElement("div",{className:"add edge"},r.createElement("form",{onSubmit:function(e){e.preventDefault();var t=o.sdir,r=o.tdir,i=void 0!==t&&void 0!==r?{_0:t,_1:r}:0;return u.e(n,o.name,o.draw,o.sname,o.tname,i),u.a(a,(function(e){return m}))}},"Edge: ","name=",r.createElement("input",{className:"input-name",name:"name",type:"text",value:o.name,onChange:function(e){var n=e.target.value;return u.a(a,(function(e){return{name:n,draw:e.draw,sname:e.sname,tname:e.tname,sdir:e.sdir,tdir:e.tdir}}))}})," draw:",r.createElement("select",{value:o.draw?"yes":"no",onChange:function(e){e.preventDefault();var n=e.target.value;return u.a(a,(function(e){return"yes"===n?{name:e.name,draw:!0,sname:e.sname,tname:e.tname,sdir:e.sdir,tdir:e.tdir}:{name:e.name,draw:!1,sname:e.sname,tname:e.tname,sdir:e.sdir,tdir:e.tdir}}))}},r.createElement("option",{value:"yes"},"yes"),r.createElement("option",{value:"no"},"no")),", start=",r.createElement("input",{className:"input-name",name:"sname",type:"text",value:o.sname,onChange:function(e){var n=e.target.value;return u.a(a,(function(e){return{name:e.name,draw:e.draw,sname:n,tname:e.tname,sdir:e.sdir,tdir:e.tdir}}))}}),l(o.sdir,(function(e){e.preventDefault();var n=e.target.value;return u.a(a,(function(e){var t=d(n),r=void 0!==t?[t,e.tdir]:[void 0,void 0];return{name:e.name,draw:e.draw,sname:e.sname,tname:e.tname,sdir:r[0],tdir:r[1]}}))})),", end=",r.createElement("input",{className:"input-name",name:"tname",type:"text",value:o.tname,onChange:function(e){var n=e.target.value;return u.a(a,(function(e){return{name:e.name,draw:e.draw,sname:e.sname,tname:n,sdir:e.sdir,tdir:e.tdir}}))}}),l(o.tdir,(function(e){e.preventDefault();var n=e.target.value;return u.a(a,(function(e){var t=d(n),r=void 0!==t?[e.sdir,t]:[void 0,void 0];return{name:e.name,draw:e.draw,sname:e.sname,tname:e.tname,sdir:r[0],tdir:r[1]}}))})),r.createElement("input",{type:"submit",value:"add/modify",onClick:function(e){}})))},f=t(8),v=t(9);function g(e){switch(e){case 0:return"black";case 1:return"white";case 2:return"red";case 3:return"green";case 4:return"blue"}}function p(e){return"reverse"===e?1:0}function y(e,n){if(!e)return n;var t=n.curve;return t?{edge_id:n.edge_id,scoord:n.tcoord,tcoord:n.scoord,curve:{_0:t._1,_1:t._0},draw:n.draw}:{edge_id:n.edge_id,scoord:n.tcoord,tcoord:n.scoord,curve:n.curve,draw:n.draw}}function A(e){return v.c(" ",f.h((function(e){var n=e[0];return e[1]?"rev("+n+")":n}),e))}function h(e){var n=u.b(c.a({_0:{TAG:12,_0:40,_1:{TAG:2,_0:0,_1:{TAG:11,_0:") ",_1:{TAG:2,_0:0,_1:0}}}},_1:"(%s) %s"}),e.fill_id,A(e.edges));return r.createElement("div",{key:e.fill_id},n)}var G={name:"",color:0,enames:0,edir:0,ename:""};var T=function(e){var n=e.updater,t=r.useState((function(){return G})),a=t[1],o=t[0],i=A(f.i(o.enames));return r.createElement("div",{className:"add fill"},r.createElement("form",{onSubmit:function(e){return e.preventDefault(),u.c(n,o.name,o.color,f.i(o.enames)),u.a(a,(function(e){return G}))}},"Fill: ","name=",r.createElement("input",{className:"input-name",name:"name",type:"text",value:o.name,onChange:function(e){var n=e.target.value;return u.a(a,(function(e){return{name:n,color:e.color,enames:e.enames,edir:e.edir,ename:e.ename}}))}}),function(e,n){var t=function(e){return r.createElement("option",{key:g(e),value:g(e)},g(e))};return r.createElement("select",{value:g(e),onChange:n},t(0),t(2),t(3),t(4),t(1))}(o.color,(function(e){e.preventDefault();var n=function(e){switch(e){case"black":return 0;case"blue":return 4;case"green":return 3;case"red":return 2;case"white":return 1;default:return}}(e.target.value);return u.a(a,(function(e){return void 0!==n?{name:e.name,color:n,enames:e.enames,edir:e.edir,ename:e.ename}:e}))})),r.createElement("input",{className:"input-name",name:"ename",type:"text",value:o.ename,onChange:function(e){var n=e.target.value;return u.a(a,(function(e){return{name:e.name,color:e.color,enames:e.enames,edir:e.edir,ename:n}}))}}),r.createElement("select",{value:o.edir?"reverse":"forward",onChange:function(e){e.preventDefault();var n=e.target.value;return u.a(a,(function(e){return{name:e.name,color:e.color,enames:e.enames,edir:p(n),ename:e.ename}}))}},r.createElement("option",{value:"forward"},"forward"),r.createElement("option",{value:"reverse"},"reverse")),r.createElement("button",{onClick:function(e){return e.preventDefault(),u.a(a,(function(e){return{name:o.name,color:o.color,enames:{hd:[o.ename,o.edir],tl:o.enames},edir:o.edir,ename:""}}))}},"append"),r.createElement("input",{type:"submit",value:"add/modify",onClick:function(e){}}),i))},E=t(5),x=t(26).a({compare:v.b});function w(e,n){for(var t=0,r=n;;){var a=r,o=t;if(!a)return[f.i(o),0];var i=a.tl,c=a.hd;if(u.a(e,c))return[f.i(o),i];r=i,t={hd:c,tl:o}}}function b(e,n){var t=function(e){return e.coordinate_id===n};if(f.b(t,e))return f.d(t,e)}function k(e,n){var t=function(e){return e.edge_id===n};if(f.b(t,e))return f.d(t,e)}function C(e,n){return f.f((function(n,t){if(void 0!==t){var r=k(e,n[0]);return void 0!==r?{hd:y(n[1],r),tl:t}:void 0}}),n,0)}function S(e,n){return u.a(e,(function(e){if(function(e,n){return f.e((function(n,t){return!(!n&&t.scoord!==e)||t.tcoord===e}),!1,n.edges)}(n,e)||function(e,n){return f.e((function(t,r){if(t)return!0;return f.e((function(t,r){var a=k(n.edges,r[0]);return void 0!==a&&(!!t||a.edge_id===e)}),!1,r.edges)}),!1,n.fills)}(n,e))return e;var t=w((function(e){return e.coordinate_id===n}),e.coordinates),r=w((function(e){return e.edge_id===n}),e.edges),a=w((function(e){return e.fill_id===n}),e.fills);return{mode:e.mode,scale:e.scale,svgx:e.svgx,svgy:e.svgy,namePool:e.namePool,coordinates:E.a(t[0],t[1]),edges:E.a(r[0],r[1]),fills:E.a(a[0],a[1])}}))}function N(e){return u.c(c.a({_0:{TAG:11,_0:"\\coordinate (",_1:{TAG:2,_0:0,_1:{TAG:11,_0:") at (",_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:11,_0:", ",_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:11,_0:");",_1:0}}}}}}},_1:"\\coordinate (%s) at (%f, %f);"}),e.coordinate_id,e.x,e.y)}function P(e){switch(e){case 0:return"90";case 1:return"-90";case 2:return"180";case 3:return"0"}}function D(e){var n,t,r=e.curve;return["("+e.scoord+")",r?u.b(c.a({_0:{TAG:12,_0:32,_1:{TAG:2,_0:0,_1:{TAG:11,_0:" (",_1:{TAG:2,_0:0,_1:{TAG:12,_0:41,_1:0}}}}},_1:" %s (%s)"}),(n=r._0,t=r._1,u.b(c.a({_0:{TAG:11,_0:"to[out=",_1:{TAG:2,_0:0,_1:{TAG:11,_0:", in=",_1:{TAG:2,_0:0,_1:{TAG:12,_0:93,_1:0}}}}},_1:"to[out=%s, in=%s]"}),P(n),P(t))),e.tcoord):u.a(c.a({_0:{TAG:11,_0:" -- (",_1:{TAG:2,_0:0,_1:{TAG:12,_0:41,_1:0}}},_1:" -- (%s)"}),e.tcoord)]}function z(e){if(!e.draw)return"";var n=D(e);return u.a(c.a({_0:{TAG:11,_0:"\\draw ",_1:{TAG:2,_0:0,_1:{TAG:12,_0:59,_1:0}}},_1:"\\draw %s;"}),n[0]+n[1])}var M=function(e){var n=e.state,t=f.h(N,n.coordinates),a=f.h((function(e){return function(e,n){var t=C(e.edges,n.edges);if(void 0===t)return"";if(!t)return"";var r=t.hd,a=D(r);return u.c(c.a({_0:{TAG:11,_0:"\\fill[",_1:{TAG:2,_0:0,_1:{TAG:11,_0:"] ",_1:{TAG:2,_0:0,_1:{TAG:12,_0:32,_1:{TAG:2,_0:0,_1:{TAG:12,_0:59,_1:0}}}}}}},_1:"\\fill[%s] %s %s;"}),g(n.color),a[0]+a[1],function e(n,t){if(!t)return"-- cycle";var r=t.tl,a=t.hd;if(n===a.scoord)return D(a)[1]+e(a.tcoord,r);var o=D(a);return" -- "+(o[0]+(o[1]+e(a.tcoord,r)))}(r.tcoord,t.tl))}(n,e)}),n.fills),o=f.c((function(e){return""!==e}))(f.h(z,n.edges)),i=v.c("\n",E.a({hd:"\\begin{tikzpicture}[baseline=0.5cm, x=0.5cm, y=0.5cm]",tl:0},E.a(t,E.a(a,E.a(o,{hd:"\\end{tikzpicture}",tl:0})))));return r.createElement("div",{id:""},r.createElement("textarea",{className:"tikz",value:i,onChange:function(e){}}))},L=t(20);function F(e,n,t){return[e*t.scale,t.svgy-n*t.scale]}function B(e,n){return F(e[0],e[1],n)}function J(e,n,t){switch(t){case 0:return[e,n+.5];case 1:return[e,n-.5];case 2:return[e-.5,n];case 3:return[e+.5,n]}}function O(e,n){var t=e.coordinates,r=n.scoord,a=n.tcoord,o=b(t,r),i=void 0!==o?[o.x,o.y]:[0,0],d=i[1],s=i[0],l=b(t,a),m=void 0!==l?[l.x,l.y]:[0,0],_=m[1],f=m[0],v=F(s,d,e),g=v[1],p=v[0],y=F(f,_,e),A=y[1],h=y[0],G=n.curve;if(!G)return[u.b(c.a({_0:{TAG:11,_0:"M ",_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:12,_0:32,_1:{TAG:8,_0:0,_1:0,_2:0,_3:0}}}},_1:"M %f %f"}),p,g),u.b(c.a({_0:{TAG:11,_0:"L ",_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:12,_0:32,_1:{TAG:8,_0:0,_1:0,_2:0,_3:0}}}},_1:"L %f %f"}),h,A)];var T=B(J(s,d,G._0),e),E=B(J(f,_,G._1),e);return[u.b(c.a({_0:{TAG:11,_0:"M ",_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:12,_0:32,_1:{TAG:8,_0:0,_1:0,_2:0,_3:0}}}},_1:"M %f %f"}),p,g),u.f(c.a({_0:{TAG:11,_0:"C ",_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:12,_0:32,_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:11,_0:", ",_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:12,_0:32,_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:11,_0:", ",_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:12,_0:32,_1:{TAG:8,_0:0,_1:0,_2:0,_3:0}}}}}}}}}}}},_1:"C %f %f, %f %f, %f %f"}),T[0],T[1],E[0],E[1],h,A)]}var W=function(e){var n=e.state,t=L.a(f.a({hd:f.h((function(e){return function(e,n){var t=C(e.edges,n.edges);return void 0!==t?r.createElement("path",{key:n.fill_id,d:function(n){if(!n)return"";var t=n.hd,r=O(e,t);return r[0]+(r[1]+function n(t,r){if(!r)return"z";var a=r.tl,o=r.hd,i=O(e,o)[1];if(t===o.scoord)return i+n(o.tcoord,a);var d,s=b(e.coordinates,o.scoord);if(void 0!==s){var l=F(s.x,s.y,e);d=u.b(c.a({_0:{TAG:11,_0:"L ",_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:12,_0:32,_1:{TAG:8,_0:0,_1:0,_2:0,_3:0}}}},_1:"L %f %f"}),l[0],l[1])}else d="";return d+(i+n(o.tcoord,a))}(t.tcoord,n.tl))}(t),fill:g(n.color),stroke:"none"}):r.createElement(r.Fragment,void 0)}(n,e)}),n.fills),tl:{hd:f.a(f.h((function(e){return function(e,n){var t=F(n.x,n.y,e),a=t[1],o=t[0];return{hd:r.createElement("circle",{key:"coord_"+n.coordinate_id,cx:String(o),cy:String(a),fill:"none",r:"2",stroke:"black"}),tl:{hd:r.createElement("text",{key:"text_"+n.coordinate_id,fontSize:"14",textAnchor:"middle",x:String(o),y:String(a-8)},n.coordinate_id),tl:0}}}(n,e)}),n.coordinates)),tl:{hd:f.a(f.h((function(e){return function(e,n){var t=O(e,n),a=t[0]+t[1];return{hd:r.createElement("path",{key:n.edge_id,id:n.edge_id,d:a,fill:"none",stroke:n.draw?"black":"lightseagreen"}),tl:{hd:r.createElement("text",{key:"text_"+n.edge_id,fill:"blue",fontSize:"14",textAnchor:"middle"},r.createElement("textPath",{key:"textPath_"+n.edge_id,startOffset:"50%",xlinkHref:"#"+n.edge_id},n.edge_id)),tl:0}}}(n,e)}),n.edges)),tl:0}}}));return r.createElement("div",{className:"preview"},r.createElement("svg",{height:String(n.svgy),width:String(n.svgx),x:"0",y:"0"},t))},H=t(21);function I(e){var n="("+e.coordinate_id+") x="+String(e.x)+" y="+String(e.y);return r.createElement("div",{key:e.coordinate_id},n)}var R=function(e){var n=e.updater,t=r.useState((function(){return{name:"",x:"0",y:"0"}})),a=t[1],o=t[0];return r.createElement("div",{className:"add coordinate"},r.createElement("form",{onSubmit:function(e){e.preventDefault();var t=H.a(o.x),r=H.a(o.y);if(void 0!==t&&void 0!==r)return u.c(n,o.name,t,r),u.a(a,(function(e){return{name:"",x:"",y:""}}))}},"Coordinate: ","name=",r.createElement("input",{className:"input-name",name:"name",type:"text",value:o.name,onChange:function(e){var n=e.target.value;return u.a(a,(function(e){return{name:n,x:e.x,y:e.y}}))}}),", x=",r.createElement("input",{className:"input-num",name:"x",type:"text",value:o.x,onChange:function(e){var n=e.target.value;return u.a(a,(function(e){return{name:e.name,x:n,y:e.y}}))}}),", y=",r.createElement("input",{className:"input-num",name:"y",type:"text",value:o.y,onChange:function(e){var n=e.target.value;return u.a(a,(function(e){return{name:e.name,x:e.x,y:n}}))}}),r.createElement("input",{type:"submit",value:"add/modify",onClick:function(e){}})))},$={name:""};var j=function(e){var n=e.updater,t=r.useState((function(){return $})),a=t[1],o=t[0];return r.createElement("div",void 0,r.createElement("form",{onSubmit:function(e){return e.preventDefault(),u.a(n,o.name)}},"Remove: ",r.createElement("input",{className:"input-name",name:"name",type:"text",value:o.name,onChange:function(e){var n=e.target.value;return u.a(a,(function(e){return{name:n}}))}}),r.createElement("input",{type:"submit",value:"remove",onClick:function(e){}})))};function q(e){return{empty:0,make:function(n){var t=n.cs;return r.createElement("div",{className:"selector"},r.createElement("div",{className:"selector-header"},e.name),r.createElement("div",{className:"overflow-y "+e.name},r.createElement(r.Fragment,void 0,L.a(f.h((function(n){return u.a(e.render,n)}),t)))))}}}var K=q({name:"edge",render:s}),Q=K.empty,U=K.make,V=q({name:"fill",render:h}),X=V.empty,Y=V.make,Z=q({name:"coordinate",render:I}),ee=Z.empty,ne=Z.make;t(34);var te=function(e){var n=r.useState((function(){return{mode:0,scale:50,svgx:500,svgy:300,namePool:x.empty,coordinates:ee,edges:Q,fills:X}})),t=n[1],a=n[0];return r.createElement("div",{id:"app"},r.createElement("h1",void 0,"Oekaki"),r.createElement("div",{id:"output"},r.createElement(W,{state:a}),r.createElement(M,{state:a})),r.createElement("div",{id:"selectors"},r.createElement(ne,{cs:a.coordinates}),r.createElement(U,{cs:a.edges}),r.createElement(Y,{cs:a.fills})),r.createElement("div",{id:"message"},"message: "),r.createElement(j,{updater:function(e){return S(t,e)}}),r.createElement(R,{updater:function(e,n,r){return function(e,n,t,r){return u.a(e,(function(e){var a=e.coordinates,o=e.namePool,i=u.b(x.find_opt,n,o);if(""===n)return e;var c={coordinate_id:n,x:t,y:r};if(void 0!==i){var d=w((function(e){return e.coordinate_id===n}),a);return{mode:e.mode,scale:e.scale,svgx:e.svgx,svgy:e.svgy,namePool:e.namePool,coordinates:E.a(d[0],E.a({hd:c,tl:0},d[1])),edges:e.edges,fills:e.fills}}var s=u.b(x.add,n,o);return{mode:e.mode,scale:e.scale,svgx:e.svgx,svgy:e.svgy,namePool:s,coordinates:{hd:c,tl:a},edges:e.edges,fills:e.fills}}))}(t,e,n,r)}}),r.createElement(_,{updater:function(e,n,r,a,o){return function(e,n,t,r,a,o){return u.a(e,(function(e){var i=e.namePool,c=e.edges,d=e.coordinates,s=b(d,r),l=b(d,a);if(void 0===s)return e;if(void 0===l)return e;var m=u.b(x.find_opt,n,i);if(""===n)return e;var _={edge_id:n,scoord:r,tcoord:a,curve:o,draw:t};if(void 0!==m){var f=w((function(e){return e.edge_id===n}),c);return{mode:e.mode,scale:e.scale,svgx:e.svgx,svgy:e.svgy,namePool:e.namePool,coordinates:e.coordinates,edges:E.a(f[0],E.a({hd:_,tl:0},f[1])),fills:e.fills}}var v=u.b(x.add,n,i);return{mode:e.mode,scale:e.scale,svgx:e.svgx,svgy:e.svgy,namePool:v,coordinates:e.coordinates,edges:{hd:_,tl:c},fills:e.fills}}))}(t,e,n,r,a,o)}}),r.createElement(T,{updater:function(e,n,r){return function(e,n,t,r){return u.a(e,(function(e){var a=e.namePool,o=e.edges,i=e.fills;if(void 0===C(o,r))return e;var c=u.b(x.find_opt,n,a);if(""===n)return e;var d={fill_id:n,color:t,edges:r};if(void 0!==c){var s=w((function(e){return e.fill_id===n}),i);return{mode:e.mode,scale:e.scale,svgx:e.svgx,svgy:e.svgy,namePool:e.namePool,coordinates:e.coordinates,edges:e.edges,fills:E.a(s[0],E.a({hd:d,tl:0},s[1]))}}var l=u.b(x.add,n,a);return{mode:e.mode,scale:e.scale,svgx:e.svgx,svgy:e.svgy,namePool:l,coordinates:e.coordinates,edges:e.edges,fills:{hd:d,tl:i}}}))}(t,e,n,r)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.3e916b59.chunk.js.map